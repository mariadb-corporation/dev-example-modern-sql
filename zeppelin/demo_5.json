{"paragraphs":[{"text":"%mariadb\n\n/* Window function */\n\nSELECT \n    s.name as name, s.rescues,\n    RANK() OVER (PARTITION BY t.name ORDER BY s.rescues DESC) AS rank,\n    t.name as team,\n    sum(rescues) OVER(PARTITION BY t.name) as team_total\nFROM \n\tdemo.supers s INNER JOIN\n\tdemo.supersteams st ON s.id = st.superid INNER JOIN\n\tdemo.teams t ON t.id = st.teamid \nORDER BY\n\tt.name, s.rescues DESC","user":"anonymous","dateUpdated":"2021-02-11T19:43:22+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"name":"string","rescues":"string","rank":"string","team":"string","team_total":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"name\trescues\trank\tteam\tteam_total\nThe Flash\t297\t1\tJustice League of America\t1085\nSuperman\t257\t2\tJustice League of America\t1085\nWonder Woman\t212\t3\tJustice League of America\t1085\nBatman\t192\t4\tJustice League of America\t1085\nRobin/Nightwing\t127\t5\tJustice League of America\t1085\nThe Flash\t297\t1\tJustice Society of America\t297\nRobin/Nightwing\t127\t1\tTeen Titans\t247\nKid Flash\t61\t2\tTeen Titans\t247\nGar Logan\t59\t3\tTeen Titans\t247\n"}]},"apps":[],"jobName":"paragraph_1612979700487_1656137063","id":"20210210-175500_553692732","dateCreated":"2021-02-10T17:55:00+0000","dateStarted":"2021-02-11T19:42:43+0000","dateFinished":"2021-02-11T19:42:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:7269"},{"text":"%mariadb\n\n/* Non-recursive CTE */\n\nWITH new_heroes AS (\n    SELECT \n        *\n    FROM \n        demo.supers\n    WHERE \n        rescues < 150 and\n        type = 'H'\n)\n\nSELECT * FROM new_heroes;\n\n/*\nSELECT \n    *\nFROM \n    new_heroes \n    \nINTERSECT\n\nSELECT \n    s.*\nFROM \n    demo.supers s \n    INNER JOIN demo.supersteams st ON s.id = st.superid \n    INNER JOIN demo.teams t ON st.teamid = t.id\nWHERE \n    t.id = 2;\n*/\n\n    \n","user":"anonymous","dateUpdated":"2021-02-11T16:10:57+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","name":"string","type":"string","rescues":"string","mentor":"string","startDate":"string","endDate":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tname\ttype\trescues\tmentor\tstartDate\tendDate\n4\tRobin/Nightwing\tH\t127\t1\t2018-01-01 00:00:00.0\t2021-01-01 00:00:00.0\n5\tGar Logan\tH\t59\tnull\t2018-01-01 00:00:00.0\t2021-01-01 00:00:00.0\n9\tKid Flash\tH\t61\tnull\t2018-01-01 00:00:00.0\t2021-01-01 00:00:00.0\n"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1613058287403_1727496317","id":"20210211-154447_328814834","dateCreated":"2021-02-11T15:44:47+0000","dateStarted":"2021-02-11T16:09:35+0000","dateFinished":"2021-02-11T16:09:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7270"},{"text":"%mariadb\n\n/* Recursive Common Table Expression */\n\nWITH RECURSIVE mentors AS(\n\tSELECT id, name, mentor\n\tFROM demo.supers\n\tWHERE name = 'Robin/Nightwing' \n    UNION\n    SELECT s.id, s.name, s.mentor\n    FROM demo.supers AS s, mentors AS h\n    WHERE s.id = h.mentor \n)\nSELECT * FROM mentors;","user":"anonymous","dateUpdated":"2021-02-11T16:51:17+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","name":"string","mentor":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tname\tmentor\n4\tRobin/Nightwing\t1\n1\tBatman\t6\n6\tRa's Ah Ghul\tnull\n"}]},"apps":[],"jobName":"paragraph_1612979862508_-1098150353","id":"20210210-175742_1584318144","dateCreated":"2021-02-10T17:57:42+0000","dateStarted":"2021-02-11T16:51:18+0000","dateFinished":"2021-02-11T16:51:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7271"},{"text":"%mariadb\n","user":"anonymous","dateUpdated":"2021-02-11T15:47:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1613058450168_1627869458","id":"20210211-154730_136544012","dateCreated":"2021-02-11T15:47:30+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:7272"}],"name":"Demo 2","id":"2FW8X888W","noteParams":{},"noteForms":{},"angularObjects":{"jdbc:shared_process":[],"mariadb:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}